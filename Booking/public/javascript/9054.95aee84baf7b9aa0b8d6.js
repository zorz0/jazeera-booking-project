"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9054],{79054:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var i=n(67294),o=n(93633),r=n(81223),a=n(35944);const l=({pagination:t,title:e,links:n,labels:o})=>{const{0:l,1:s}=(0,i.useState)(parseInt(t)),{0:u,1:c}=(0,i.useState)(null===o||void 0===o?void 0:o["control--expand"]),p=!!n&&Array.isArray(n)&&n.length>0,m=(0,i.useRef)(),_=(0,i.useRef)(),d=(0,i.useRef)(!1);(0,i.useEffect)((()=>{d.current&&(u===(null===o||void 0===o?void 0:o["control--expand"])?m.current.focus():_.current.focus())}),[u]),(0,i.useEffect)((()=>{d.current=!0}),[]);const g={0:m};return g[t]=_,(0,a.BX)(r.xu,{className:"",themeNameSpaces:["_relatedRoutes"],children:[p&&e&&(0,a.tZ)(r.xv,{as:"h2",className:"text-3xl mb-3",themeNameSpaces:["_relatedRoutes._title"],children:e}),(0,a.tZ)(r.xu,{themeNameSpaces:["_relatedRoutes._container"],children:(0,a.tZ)("ul",{className:"leading-loose pb-4","aria-atomic":"true",children:p&&n.map((({name:t,url:e},n)=>(0,a.tZ)("li",{className:"w-full sm:w-1/2 md:w-1/3 inline-block align-top pt-1 ".concat(n+1>l?"hidden":""),children:(0,a.tZ)(r.rU,{className:"block md:break-words pr-4",themeNameSpaces:["_relatedRoutes._link"],href:e,ref:g[n],children:t})},n)))})}),p&&t<n.length&&(0,a.tZ)(r.kC,{className:"w-full justify-center",children:(0,a.tZ)(r.zx,{className:"",themeNameSpaces:["_relatedRoutes._loadMoreCta"],onClick:()=>{l>t?(s(t),c(null===o||void 0===o?void 0:o["control--expand"])):(s(n.length),c(null===o||void 0===o?void 0:o["control--collapse"]))},children:u})})]})};l.defaultProps={pagination:15};var s,u=l,c=n(50959),p=n(52209);const m=(0,n(35185).Ps)(s||(s=(0,p.Z)(["\n\nquery($page: PageInput!, $id: String!, $imContext: InterlinkContextInput!, $payloadQuery: String) {\n  interlinkingRoutes(page: $page, id: $id, imContext: $imContext, payloadQuery: $payloadQuery) {\n    id\n    title\n    links {\n      name\n      url\n      order\n    }\n    error\n  }\n}\n\n"])));var _=n(45943),d=n(46323),g=n(92809);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,g.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const f=t=>{const{pageContext:{datasource:e={},geo:n={},extra_info:i={},type:o=""}={}}=t||{},r={templateId:(0,_.mR)(e,"template_id",null),templateName:(0,_.mR)(e,"step",null),originLocationLevel:(0,_.mR)(n,"location.level_origin",null),originGeoId:(0,_.mR)(n,"location.origin_geo_id",null),OriginAirportName:(0,_.mR)(n,"location.user_input_origin_airport_code",null),OriginCityName:(0,_.mR)(n,"location.user_input_origin_city_name",null),OriginStateName:(0,_.mR)(n,"location.user_input_origin_state_name",null),OriginCountryName:(0,_.mR)(n,"location.user_input_origin_country_name",null),originAirports:(0,_.mR)(i,"airports.origin",[]),destinationLocationLevel:(0,_.mR)(n,"location.level_destination",null),destinationGeoId:(0,_.mR)(n,"location.destination_geo_id",null),DestinationAirportName:(0,_.mR)(n,"location.user_input_destination_airport_code",null),DestinationCityName:(0,_.mR)(n,"location.user_input_destination_city_name",null),DestinationStateName:(0,_.mR)(n,"location.user_input_destination_state_name",null),DestinationCountryName:(0,_.mR)(n,"location.user_input_destination_country_name",null),destinationAirports:(0,_.mR)(i,"airports.destination",[]),fromDestinationCityName:(0,_.mR)(n,"location.destination_city_preposition_from",null),toDestinationCityName:(0,_.mR)(n,"location.destination_city_preposition_to",null),fromDestinationCountryName:(0,_.mR)(n,"location.destination_country_preposition_from",null),toDestinationCountryName:(0,_.mR)(n,"location.destination_country_preposition_to",null),fromOriginCityName:(0,_.mR)(n,"location.origin_city_preposition_from",null),fromOriginCountryName:(0,_.mR)(n,"location.origin_country_preposition_from",null),toOriginCityName:(0,_.mR)(n,"location.origin_city_preposition_to",null),toOriginCountryName:(0,_.mR)(n,"location.origin_country_preposition_to",null)};return"hospitality"===o?(0,_.vQ)(R(R({},r),{},{propertyCityName:(0,_.mR)(n,"location.user_input_property_city_name",null),propertyCode:(0,_.mR)(n,"location.user_input_property_code",null),propertyCountryCode:(0,_.mR)(n,"location.user_input_property_country_code",null),propertyCountryName:(0,_.mR)(n,"location.user_input_property_country_name",null),propertyName:(0,_.mR)(n,"location.user_input_property_name",null),propertyRegionName:(0,_.mR)(n,"location.user_input_property_region_name",null),propertyStateName:(0,_.mR)(n,"location.user_input_property_state_name",null),siteEditionCountryGeoId:(0,_.mR)(n,"language.site_edition_country_geo_id",null)})):(0,_.vQ)(R({},r))};var N=n(95573),h=n(41075);const b=({page:{tenant:t,slug:e,siteEdition:n,pageType:i,pageNumber:o}})=>({tenant:t,slug:e,siteEdition:n,pageType:i,pageNumber:o}),C=["control--collapse","control--expand"];var v=t=>{let{params:{id:e}}=t;const{data:n,loading:i,error:r}=(0,o.a)(c.wn),{data:l,loading:s,error:p}=(0,o.a)(c.Kr,{skip:!n,variables:{page:n&&{tenant:b(n).tenant,slug:b(n).slug,siteEdition:b(n).siteEdition}}}),{data:g,loading:y,error:R}=(0,o.a)(m,{skip:!n||!l,variables:{page:n&&{tenant:b(n).tenant,slug:b(n).slug,siteEdition:b(n).siteEdition},id:e,imContext:l&&f(l)}}),{data:v,loading:k,error:O}=(0,o.a)(c.D4,{skip:!n,variables:n&&{page:{tenant:b(n).tenant,slug:b(n).slug,siteEdition:b(n).siteEdition}}});if(r||p||R||O||!n||!l||!g||!v){R&&console.error("".concat(R));const t=!r&&!p&&!R&&!O&&(!v||!l||!g),e={page:{error:r,hasData:!!n},context:{error:p,hasData:!!l},interlinkRoutes:{error:R,hasData:!!g},label:{error:O,hasData:!!v}};return(0,N.Z)("Interlink Routes",e,{isMissingData:t}),null}if(i||s||y||k)return null;const{interlinkingRoutes:{title:D,links:x,error:Z,id:E}}=g,w=x&&Array.isArray(x)&&x.length>0;if(Z)return(0,N.Z)("Interlink Routes",{errorMessageFromBE:{error:Z}}),null;if(!w)return(0,N.Z)("Interlink Routes",{hasData:!!w},{id:E,isMissingData:!0}),null;const S=(0,_.g7)(v.labels,C);return(0,a.tZ)(d.Z,{children:(0,a.tZ)(h.Z,{children:(0,a.tZ)(u,{links:x,title:D,pagination:15,labels:S})})})}}}]);