(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7343],{91296:function(e,t,a){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=s||c||Function("return this")(),p=Object.prototype.toString,u=Math.max,g=Math.min,m=function(){return d.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=r.test(e);return a||o.test(e)?l(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,a){var n,i,r,o,l,s,c=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var a=n,r=i;return n=i=void 0,c=t,o=e.apply(r,a)}function C(e){return c=e,l=setTimeout(T,t),d?v(e):o}function y(e){var a=e-s;return void 0===s||a>=t||a<0||p&&e-c>=r}function T(){var e=m();if(y(e))return O(e);l=setTimeout(T,function(e){var a=t-(e-s);return p?g(a,r-(e-c)):a}(e))}function O(e){return l=void 0,f&&n?v(e):(n=i=void 0,o)}function S(){var e=m(),a=y(e);if(n=arguments,i=this,s=e,a){if(void 0===l)return C(s);if(p)return l=setTimeout(T,t),v(s)}return void 0===l&&(l=setTimeout(T,t)),o}return t=b(t)||0,h(a)&&(d=!!a.leading,r=(p="maxWait"in a)?u(b(a.maxWait)||0,t):r,f="trailing"in a?!!a.trailing:f),S.cancel=function(){void 0!==l&&clearTimeout(l),c=0,n=s=i=l=void 0},S.flush=function(){return void 0===l?o:O(m())},S}},87343:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Se}});var n=a(92809),i=a(67294),r=a(1745),o=a(93633),l=a(85942),s=a(81223),c=a(91296),d=a.n(c),p=a(35944);const u=({id:e,dataTest:t,isLoading:a,inputGroupVariant:n,minCharactersCountToOpen:i,labels:{label:r,placeholder:o,errorMessage:l,noOptionsMessage:c,clearButtonLabel:d},leftIcon:u,rightIcon:g,clearIcon:m,ariaLabel:h,value:b,options:f,onChange:v,onClear:C,searchConfig:y,inputThemeNameSpace:T,menuThemeNameSpace:O})=>(0,p.tZ)(s.BZ,{label:r,labelId:"".concat(e,"-label"),labelFor:"".concat(e,"-input"),clearButtonLabel:d,errorMessage:l,errorMessageId:"".concat(e,"-error"),isLoading:a,hasValue:!!b,leftIcon:u,rightIcon:g,clearIcon:m,onClear:C,variant:n,themeNameSpace:T,dataTest:t,children:(0,p.tZ)(s.F2,{id:e,inputId:"".concat(e,"-input"),ariaLabel:h,ariaLabelledBy:"".concat(e,"-label"),emptyLabel:c,placeholderLabel:o,value:b,options:f,onChange:v,minCharactersCountToOpen:i,searchConfig:y,themeNameSpace:O})});u.defaultProps={isLoading:!1,inputGroupVariant:"",minCharactersCountToOpen:0,labels:{label:"",placeholder:"",errorMessage:"",noOptionsMessage:"",clearButtonLabel:""},leftIcon:"",rightIcon:"",clearIcon:"close",ariaLabel:"",value:"",options:[],onChange:()=>{},onClear:()=>{},searchConfig:{},inputThemeNameSpace:"",menuThemeNameSpace:""};var g=u;const m=({id:e,dataTest:t,ariaLabel:a,currencyCode:n,isLoading:i,labels:{label:r,placeholder:o,errorMessage:l,clearButtonLabel:c},clearIcon:d,value:u,onChange:g,onKeyUp:m,onClear:h,inputThemeNameSpace:b})=>(0,p.BX)(s.BZ,{label:r,labelId:"".concat(e,"-label"),labelFor:"".concat(e,"-input"),clearButtonLabel:c,errorMessage:l,errorMessageId:"".concat(e,"-error"),isLoading:i,hasValue:!!u,clearIcon:d,onClear:h,themeNameSpace:b,dataTest:t,children:[(0,p.tZ)(s.xu,{className:"p-1 whitespace-no-wrap",themeNameSpaces:["".concat(b,"._currencyTag")],dataTest:"".concat(t,"-icon"),children:n}),(0,p.tZ)(s.II,{id:"".concat(e,"-input"),value:u,placeholder:o,onKeyUp:e=>m(e.currentTarget.value),onChange:e=>{return t=e.currentTarget.value,/^\d*$/.test(t)?g(t):()=>{};var t},inputTheNameSpace:["".concat(b,".__inputText")],maxLength:9,pattern:null,ariaLabelledBy:"".concat(e,"-label"),ariaLabel:a})]});m.defaultProps={dataTest:"",ariaLabel:"Budget. Please enter a numerical value",currencyCode:"",isLoading:!1,labels:{label:"",placeholder:"",errorMessage:"",noOptionsMessage:"",clearButtonLabel:""},clearIcon:"",value:"",onChange:()=>{},onKeyUp:()=>{},onClear:()=>{},inputThemeNameSpace:""};var h=m;const b=({id:e,dataTest:t,isLoading:a,labels:{label:n,errorMessage:i,clearButtonLabel:r},value:o,options:l,onChange:c,selectThemeNameSpace:d,inputThemeNameSpace:u})=>(0,p.tZ)(s.BZ,{label:n,labelId:"".concat(e,"-label"),labelFor:"".concat(e,"-input"),clearButtonLabel:r,errorMessage:i,errorMessageId:"".concat(e,"-error"),isLoading:a,hasValue:!!o,themeNameSpace:u,dataTest:t,noPadding:!0,children:(0,p.tZ)(s.Ph,{name:"travel_class_filter",ariaLabel:n||"Travel Class Filter",className:"p-0",themeNameSpace:d,rightIcon:"keyboard_arrow_down",onChange:c,value:o,options:l})});b.defaultProps={dataTest:"",isLoading:!1,labels:{label:"",placeholder:"",errorMessage:"",noOptionsMessage:"",clearButtonLabel:""},value:{label:"",value:""},options:[],onChange:()=>{},selectThemeNameSpace:"",inputThemeNameSpace:""};var f=b,v=a(47428);const C=({id:e,dataTest:t,isLoading:a,labels:{label:n,errorMessage:r,toggleLabel:o,allCheckboxLabel:l,counterLabel:c,clearBtnLabel:d,applyBtnLabel:u},selectedOptions:g,options:m,onApply:h,filtersThemeNameSpace:b,inputThemeNameSpace:f})=>{const{pageInfo:{deviceType:C}}=(0,i.useContext)(v.Z);return(0,p.tZ)(s.BZ,{label:n,labelId:"".concat(e,"-label"),labelFor:"".concat(e,"-input"),errorMessage:r,errorMessageId:"".concat(e,"-error"),isLoading:a,hasValue:!!g,themeNameSpace:f,noPadding:!0,children:(0,p.tZ)(s.C2,{className:"w-full",deviceType:C,dataTest:t,labels:{toggleLabel:o,allCheckboxLabel:l,counterLabel:c,clearBtnLabel:d,applyBtnLabel:u},isLoading:!1,options:m,selectedOptions:g,onApply:h,themeNameSpace:b})})};C.defaultProps={dataTest:{},isLoading:!1,labels:{label:"",placeholder:"",errorMessage:"",noOptionsMessage:"",clearButtonLabel:""},selectedOptions:[],options:[],onApply:()=>{},filtersThemeNameSpace:"",inputThemeNameSpace:""};var y=C;const T=({sfmId:e,isLoading:t,locationAttributesFilters:a,locationAttributes:n,selectedLocationAttributes:r,handleOnApplyLocationAttrFilter:o,filtersThemeNameSpace:l,inputThemeNameSpace:c})=>{const{labels:d,pageInfo:{deviceType:u}}=(0,i.useContext)(v.Z);return a&&a.map((a=>n&&n.map((({id:n,name:i,tags:g})=>{const m="sfm-attr-filter-".concat(e,"-").concat(n),h=g&&g.map((({name:e,id:t})=>({label:e,value:t}))),b=r&&r.filter((({categoryId:e})=>e===n)).map((({tags:e})=>e&&e.map((e=>({value:e}))))).flat();return a===n&&(0,p.tZ)(s.BZ,{id:"".concat(m,"-input-group"),label:i,labelId:"".concat(m,"-label"),labelFor:"".concat(m,"-input"),errorMessageId:"".concat(m,"-error"),isLoading:t,hasValue:!!b,themeNameSpace:c,noPadding:!0,children:(0,p.tZ)(s.C2,{id:"".concat(m,"-multiselector"),className:"w-full",deviceType:u,dataTest:{toggleDataTest:"attr-filter-".concat(i,"-filter"),allCheckboxDataTest:"attr-filter-".concat(i,"-all"),optionsDataTest:"attr-filter-".concat(i,"-options"),counterDataTest:"attr-filter-".concat(i,"-counter"),clearBtnDataTest:"attr-filter-".concat(i,"-clear"),applyBtnDataTest:"attr-filter-".concat(i,"-done")},labels:{toggleLabel:null===d||void 0===d?void 0:d["cmp-attr-filter-toggle"],multiSelected:null===d||void 0===d?void 0:d["cmp-attr-filter-multiple-selected"],allCheckboxLabel:null===d||void 0===d?void 0:d["cmp-attr-filter-all"],counterLabel:null===d||void 0===d?void 0:d["cmp-attr-filter-counter-label"],clearBtnLabel:null===d||void 0===d?void 0:d["cmp-attr-filter-clear-btn"],applyBtnLabel:null===d||void 0===d?void 0:d["cmp-attr-filter-apply-btn"]},isLoading:!1,options:h,selectedOptions:b,onApply:e=>o(e,a),themeNameSpace:l})},"".concat(m,"-input-group"))}))))};T.defaultProps={dataTest:{},isLoading:!1,locationAttributesFilters:[],locationAttributes:[],selectedLocationAttributes:[],handleOnApplyLocationAttrFilter:()=>{},filtersThemeNameSpace:"",inputThemeNameSpace:""};var O=T;const S=({id:e,dataTest:t,isLoading:a,labels:{label:n,errorMessage:i,clearButtonLabel:r},value:o,options:l,onChange:c,selectThemeNameSpace:d,inputThemeNameSpace:u})=>(0,p.tZ)(s.BZ,{label:n,labelId:"".concat(e,"-label"),labelFor:"".concat(e,"-input"),clearButtonLabel:r,errorMessage:i,errorMessageId:"".concat(e,"-error"),isLoading:a,hasValue:!!o,themeNameSpace:u,dataTest:t,noPadding:!0,children:(0,p.tZ)(s.Ph,{name:"redemption_unit_filter",ariaLabel:n,className:"p-0",themeNameSpace:d,rightIcon:"keyboard_arrow_down",onChange:c,value:o,options:l})});S.defaultProps={dataTest:"",isLoading:!1,labels:{label:"",placeholder:"",errorMessage:"",noOptionsMessage:"",clearButtonLabel:""},value:{label:"",value:""},options:[],onChange:()=>{},selectThemeNameSpace:"",inputThemeNameSpace:""};var N=S;const w=({sfmId:e,filterSettings:t,origins:a,destinations:n,locationAttributes:r,originAirportsLoading:o,destinationAirportsLoading:l,locationAttributesLoading:c,handleOnChangeOriginFilter:d,handleOnChangeDestinationFilter:u,handleOnChangeBudgetFilter:m,handleOnChangeTravelClassFilter:b,handleOnChangeRedemptionUnitFilter:C,handleOnApplyBrandedTravelClassFilter:T,handleOnApplyLocationAttrFilter:S,debouncedOnKeyUpHandler:w,handleOnClearOriginFilter:F,handleOnClearDestinationFilter:A,handleOnClearBudgetFilter:L,selectedOrigin:I,selectedDestination:P,budgetInputValue:_,selectedTravelClass:D,selectedBrandedTravelClasses:M,selectedLocationAttributes:B,selectedRedemptionUnit:E,hasLocationAttributeFilters:R,themeNameSpace:Z,budgetRedemptionUnit:k,travelClassesData:x,searchConfig:j})=>{var U;const{showOriginFilter:V,showDestinationFilter:$,showBudgetFilter:G,showTravelClassFilter:z,showBrandedTravelClassFilter:H,showRedemptionUnitFilter:W,locationAttributesFilters:K,currencyCode:q}=t,{labels:J}=(0,i.useContext)(v.Z),{organizationDataCollection:{travelClasses:Q=[],brandedTravelClasses:X=[],redemptionUnits:Y=[]}={}}=x||{},ee=X&&X.filter((({travelClass:e})=>e===D)),te=K?K.length:0,ae={CURRENCY:"cmp-redemption-filter-currency",MILES:"cmp-redemption-filter-miles",POINTS:"cmp-redemption-filter-points"},ne=Y&&Array.isArray(Y)?Y.map((e=>{const t=e.toUpperCase();return{value:t,label:(null===J||void 0===J?void 0:J[ae[t]])||e}})):[],ie=[V,$,G,z,H,W].filter(Boolean).length+te<=3?"md:grid-cols-3":"md:grid-cols-4",re=V||$||G||z||H||te>0,oe=(null===J||void 0===J?void 0:J["cmp-btn-clear"])||"Clear filter",le="close",se="".concat(Z,"._filters"),ce="".concat(se,"._select"),de="".concat(se,"._input"),pe="".concat(se,"._locationSelector");return re&&(0,p.tZ)(s.kC,{className:"flex-row",themeNameSpaces:["".concat(Z,"._container")],dataTest:"filters-container",children:(0,p.BX)("div",{className:"w-full grid grid-cols-1 gap-y-2 md:gap-x-4 ".concat(ie),children:[V&&(0,p.tZ)(g,{id:"sfm-origin-".concat(e),dataTest:"origin",leftIcon:"flight_takeoff",rightIcon:"",ariaLabel:(null===J||void 0===J?void 0:J["cmp-select-origin-arialabel"])||"Input origin",isLoading:o,minCharactersCountToOpen:0,value:I,options:a,labels:{label:null===J||void 0===J?void 0:J["cmp-select-origin-label"],placeholder:null===J||void 0===J?void 0:J["cmp-select-origin-placeholder"],noOptionsMessage:null===J||void 0===J?void 0:J["cmp-select-empty-location-selector"],clearButtonLabel:oe},clearIcon:le,onChange:d,onClear:F,searchConfig:j,inputGroupVariant:"2",inputThemeNameSpace:de,menuThemeNameSpace:pe}),$&&(0,p.tZ)(g,{id:"sfm-destination-".concat(e),dataTest:"destination",leftIcon:"flight_land",rightIcon:"",ariaLabel:(null===J||void 0===J?void 0:J["cmp-select-destination-arialabel"])||"Input destination",isLoading:l,minCharactersCountToOpen:0,value:P,options:n,labels:{label:null===J||void 0===J?void 0:J["cmp-select-destination-label"],placeholder:null===J||void 0===J?void 0:J["cmp-select-destination-placeholder"],noOptionsMessage:null===J||void 0===J?void 0:J["cmp-select-empty-location-selector"],clearButtonLabel:oe},clearIcon:le,onChange:u,onClear:A,searchConfig:j,inputGroupVariant:"2",inputThemeNameSpace:de,menuThemeNameSpace:pe}),G&&(0,p.tZ)(h,{id:"sfm-budget-".concat(e),dataTest:"budget",ariaLabel:null===J||void 0===J?void 0:J["cmp-select-budget-arialabel"],currencyCode:q&&(ue=q,!ue||"MILES"!==ue&&"POINTS"!==ue?ue:J["cmp-redemption-unit-".concat(ue.toLowerCase())]),value:_,isLoading:!1,labels:{label:null===J||void 0===J?void 0:J["single-budget-label"],placeholder:null===J||void 0===J?void 0:J["cmp-any-budget"],clearButtonLabel:oe},clearIcon:le,onChange:m,onKeyUp:w,onClear:L,inputThemeNameSpace:de}),z&&(0,p.tZ)(f,{id:"sfm-travel-class-".concat(e),dataTest:"travel-class",value:D||Q&&(null===(U=Q[0])||void 0===U?void 0:U.value),options:Q,isLoading:!1,labels:{label:null===J||void 0===J?void 0:J["cmp-select-travel-class-label"]},onChange:b,selectThemeNameSpace:ce,inputThemeNameSpace:de}),H&&(0,p.tZ)(y,{id:"sfm-branded-travel-class-".concat(e),dataTest:{toggleDataTest:"brandedTravelClass-filter",allCheckboxDataTest:"brandedTravelClass-all",optionsDataTest:"brandedTravelClass-options",counterDataTest:"brandedTravelClass-counter",clearBtnDataTest:"brandedTravelClass-clear",applyBtnDataTest:"brandedTravelClass-done"},labels:{label:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-label"],toggleLabel:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-toggle"],allCheckboxLabel:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-all"],counterLabel:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-counter-label"],clearBtnLabel:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-clear-btn"],applyBtnLabel:null===J||void 0===J?void 0:J["cmp-select-multiple-branded-travel-class-apply-btn"]},isLoading:!1,selectedOptions:M,options:ee,onApply:T,filtersThemeNameSpace:se,inputThemeNameSpace:de}),R&&(0,p.tZ)(O,{sfmId:e,locationAttributesFilters:K,locationAttributes:r,selectedLocationAttributes:B,handleOnApplyLocationAttrFilter:S,isLoading:c,filtersThemeNameSpace:se,inputThemeNameSpace:de},"sfm-attr-filters-".concat(e)),W&&(0,p.tZ)(N,{id:"sfm-redemption-unit-".concat(e),dataTest:"redemption-unit",value:E,options:ne,isLoading:!1,labels:{label:(null===J||void 0===J?void 0:J["cmp-redemption-filter-label"])||"Display in"},onChange:C,selectThemeNameSpace:ce,inputThemeNameSpace:de})]})});var ue};w.defaultProps={sfmId:"",filterSettings:{showOriginFilter:!1,showDestinationFilter:!1,showBudgetFilter:!1,showTravelClassFilter:!1,showBrandedTravelClassFilter:!1,currencyCode:""},origins:[],destinations:[],locationAttributes:[],originAirportsLoading:!1,destinationAirportsLoading:!1,locationAttributesLoading:!1,handleOnChangeOriginFilter:()=>{},handleOnChangeDestinationFilter:()=>{},handleOnChangeBudgetFilter:()=>{},debouncedOnKeyUpHandler:()=>{},handleOnChangeTravelClassFilter:()=>{},handleOnChangeRedemptionUnitFilter:()=>{},handleOnApplyBrandedTravelClassFilter:()=>{},handleOnApplyLocationAttrFilter:()=>{},handleOnClearOriginFilter:()=>{},handleOnClearDestinationFilter:()=>{},handleOnClearBudgetFilter:()=>{},selectedOrigin:"",selectedDestination:"",budgetInputValue:"",selectedTravelClass:"",selectedBrandedTravelClasses:[],selectedLocationAttributes:[],hasLocationAttributeFilters:!1,budgetRedemptionUnit:"",travelClassesData:{},searchConfig:{caseSensitive:!1,includeScore:!1,includeMatches:!1,shouldSort:!0,findAllMatches:!0,threshold:.2,location:0,distance:300,maxPatternLength:50,minMatchCharLength:1,keys:["value","label"]}};var F=w;function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const I=({sfmId:e,componentName:t,tagName:a,filtersData:n,filterSettings:r,filterFares:o,searchOriginAirports:l,searchDestinationAirports:s,themeNameSpace:c})=>{const{showOriginFilter:u,showDestinationFilter:g,showBudgetFilter:m,showTravelClassFilter:h,showBrandedTravelClassFilter:b,showRedemptionUnitFilter:f,locationAttributesFilters:C}=r,y=C&&C.length>0,{originAirports:T,originAirportsLoading:O,destinationAirports:S,destinationAirportsLoading:N,locationAttributes:w,locationAttributesLoading:A,originPrepopulationCode:I,destinationPrepopulationCode:P,budgetPrepopulationValue:_,travelClassPrepopulationValue:D,brandedTravelClassesPrepopulationValues:M,locationAttributesPrepopulation:B,redemptionUnitPrepopulationValue:E,budgetRedemptionUnit:R,travelClassesData:Z,searchConfigData:k}=n,{actionDispatcher:x}=(0,i.useContext)(v.Z),{0:j,1:U}=(0,i.useState)(T),{0:V,1:$}=(0,i.useState)(S),{0:G,1:z}=(0,i.useState)(null),{0:H,1:W}=(0,i.useState)(null),{0:K,1:q}=(0,i.useState)(null),{0:J,1:Q}=(0,i.useState)(null),{0:X,1:Y}=(0,i.useState)(null),{0:ee,1:te}=(0,i.useState)(null),{0:ae,1:ne}=(0,i.useState)(""),{0:ie,1:re}=(0,i.useState)(null),{0:oe,1:le}=(0,i.useState)(null),{0:se,1:ce}=(0,i.useState)(null),de=()=>{z(""),re("")},pe=()=>{W(""),le("")},ue=()=>{z(""),W(""),l({}),s({})},ge=(0,i.useCallback)(d()((n=>{q(n),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.budget",data:{filter:"select-budget",componentName:t,moduleId:e,tagName:a,budget:n,date:(new Date).toISOString().slice(0,10)}}})}),1e3),[]),me=e=>{const{geoId:t}=T.find((t=>t.value===e))||{};return t},he=e=>{const{geoId:t}=S.find((t=>t.value===e))||{};return t},be=(e,t)=>e.some((({value:e})=>e===t)),fe=()=>L(L(L(L(L(L(L(L(L({},u&&G?{origin:{code:G,geoId:me(G)}}:{}),g&&H?{destination:{code:H,geoId:he(H)}}:{}),m&&K?{budget:{max:parseInt(K,10)}}:{}),R&&{budgetRedemptionUnit:R}),h&&J?{travelClass:J}:{}),h&&J?{travelClass:J}:{}),b&&ee&&ee.length>0?{brandedTravelClasses:ee.map((({value:e})=>e))}:{}),y&&se&&se.length>0?{locationAttributes:se.map((({categoryId:e,tags:t})=>({categoryId:e,tagsIds:t})))}:{}),f&&X?{redemptionUnit:X}:{}),ve=e=>{l({selectedAirportCode:e})},Ce=e=>{s({selectedAirportCode:e})};return(0,i.useEffect)((()=>{I&&re(I),P&&le(P),_&&(ne(_),q(_)),(D&&!J||D&&D!==J)&&Q(D),(E&&!X||E&&E!==X)&&Y(E),M&&M.length>0&&!ee&&te(M.map((e=>({value:e})))),B&&B.length>0&&!se&&ce(B)}),[_,I,P,D,M,B,E]),(0,i.useEffect)((()=>{T&&T.length>0&&S&&S.length>0&&(U(T),$(S),ie&&null===G&&be(T,ie)&&z(ie),oe&&null===H&&be(S,oe)&&W(oe))}),[T,S,oe,ie]),(0,i.useEffect)((()=>{null===G||ie&&G===ie||(G&&!H&&Ce(G),!G&&H&&ve(H),G||H||ue(),o(fe()))}),[G]),(0,i.useEffect)((()=>{null===H||oe&&H===oe||(H&&!G&&ve(H),!H&&G&&Ce(G),H||G||ue(),o(fe()))}),[H]),(0,i.useEffect)((()=>{null===K||_&&K===_||o(fe())}),[K]),(0,i.useEffect)((()=>{null===J||D&&J===D||o(fe())}),[J]),(0,i.useEffect)((()=>{null===X||E&&X===E||o(fe())}),[X]),(0,i.useEffect)((()=>{null!==ee&&o(fe())}),[ee]),(0,i.useEffect)((()=>{null!==se&&o(fe())}),[se]),(0,p.tZ)(F,{sfmId:e,filterSettings:r,origins:j,destinations:V,locationAttributes:w,originAirportsLoading:O,destinationAirportsLoading:N,locationAttributesLoading:A,handleOnChangeOriginFilter:n=>{n!==G&&(re(null),z(n),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.origin",data:{filter:"select-origin",componentName:t,moduleId:e,tagName:a,origin:n,date:(new Date).toISOString().slice(0,10)}}})),""===n&&de()},handleOnChangeDestinationFilter:n=>{n!==H&&(le(null),W(n),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.destination",data:{filter:"select-destination",componentName:t,moduleId:e,tagName:a,destination:n,date:(new Date).toISOString().slice(0,10)}}})),""===n&&pe()},handleOnChangeBudgetFilter:e=>{"0"!==e&&ne(e)},handleOnChangeTravelClassFilter:n=>{const{value:i}=n||{};Q(i),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.travelClass",data:{filter:"select-travel-class",componentName:t,moduleId:e,tagName:a,travelClass:i,date:(new Date).toISOString().slice(0,10)}}})},handleOnChangeRedemptionUnitFilter:n=>{const{value:i}=n||{};Y(i),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.redemptionUnit",data:{filter:"select-redemption-unit",componentName:t,moduleId:e,tagName:a,travelClass:i,date:(new Date).toISOString().slice(0,10)}}})},handleOnApplyBrandedTravelClassFilter:n=>{const i=n.map((e=>({label:e,value:e})));te(i),x.dispatch({type:"PUBLISH_EVENT",payload:{name:"em.fare.priceWidget.travelClass",data:{filter:"select-branded-travel-class",componentName:t,moduleId:e,tagName:a,brandedTravelClass:n,date:(new Date).toISOString().slice(0,10)}}})},handleOnApplyLocationAttrFilter:(e,t)=>{const a={categoryId:t,tags:e},n=se&&se.some((({categoryId:e})=>e===t));let i=[];n&&e&&0===e.length&&(i=se.filter((({categoryId:e})=>e!==t))),n&&e&&e.length>0&&(i=se.map((a=>a.categoryId===t?L(L({},a),{},{tags:e}):a))),!n&&se&&(i=[...se,a]),n||se||(i=[a]),ce(i)},debouncedOnKeyUpHandler:ge,handleOnClearOriginFilter:de,handleOnClearDestinationFilter:pe,handleOnClearBudgetFilter:()=>{ne(""),q("")},selectedOrigin:G,selectedDestination:H,budgetInputValue:ae,selectedTravelClass:J,selectedBrandedTravelClasses:ee,selectedLocationAttributes:se,selectedRedemptionUnit:X,hasLocationAttributeFilters:y,themeNameSpace:c,budgetRedemptionUnit:R,travelClassesData:Z,searchConfigData:k})};I.defaultProps={sfmId:"",componentName:"",tagName:"",filtersData:{airports:[],airportsLoading:!1,originPrepCode:"",destinationPrepCode:"",travelClassPrepopulationValue:"",brandedTravelClassesPrepopulationValues:[],redemptionUnitPrepopulationValue:""},filterSettings:{showOriginFilter:!1,showDestinationFilter:!1,showBudgetFilter:!1,showTravelClassFilter:!1,showBrandedTravelClassFilter:!1,hasLocationAttributeFilters:!1,showRedemptionUnitFilter:!1}};var P=I,_=a(10219),D=a(5152);const M=(0,D.default)((()=>a.e(4443).then(a.bind(a,34443))),{loadableGenerated:{webpack:()=>[34443],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./ColumnsView"]}}),B=(0,D.default)((()=>a.e(3582).then(a.bind(a,93582))),{loadableGenerated:{webpack:()=>[93582],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./TableView"]}}),E=(0,D.default)((()=>Promise.all([a.e(8684),a.e(7)]).then(a.bind(a,20007))),{loadableGenerated:{webpack:()=>[20007],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./CarouselView"]}}),R={COLUMNS:{viewCmp:M,viewThemeNameSpace:"_columns",viewMobile:()=>R.COLUMNS},TABLE:{viewCmp:B,viewThemeNameSpace:"_table",viewMobile:()=>R.COLUMNS},GRID:{viewCmp:(0,D.default)((()=>a.e(7588).then(a.bind(a,37588))),{loadableGenerated:{webpack:()=>[37588],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./GridView"]}}),viewThemeNameSpace:"_grid",viewMobile:()=>R.CAROUSEL},CAROUSEL:{viewCmp:E,viewThemeNameSpace:"_carousel",viewMobile:()=>R.CAROUSEL},NOFARES:{viewCmp:(0,D.default)((()=>a.e(8621).then(a.bind(a,68621))),{loadableGenerated:{webpack:()=>[68621],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./NoFaresView"]}}),viewThemeNameSpace:"_noFares",viewMobile:()=>R.NOFARES}},Z=["viewType","themeNameSpace"];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}const x=e=>{let{viewType:t,themeNameSpace:a}=e,r=(0,_.Z)(e,Z);const{pageInfo:{textDirection:o,deviceType:l},labels:s}=(0,i.useContext)(v.Z),{viewCmp:c,viewThemeNameSpace:d}=((e,t)=>{const a=e in R?R[e]:R.TABLE;return"desktop"===t?a:a.viewMobile()})(t,l)||{},p="RTL"===o,u={hour:null===s||void 0===s?void 0:s["cmp-hour"],hours:null===s||void 0===s?void 0:s["cmp-hours"],day:null===s||void 0===s?void 0:s["cmp-day"],days:null===s||void 0===s?void 0:s["cmp-days"],minute:null===s||void 0===s?void 0:s["cmp-minute"],minutes:null===s||void 0===s?void 0:s["cmp-minutes"]};return i.createElement(c,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({mainThemeNameSpace:a,themeNameSpace:"".concat(a,".").concat(d),isRtl:p,labels:s,units:u,deviceType:l},r))};x.defaultProps={};var j=x,U=a(45943),V=a(41075);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const z=({id:e,title:t,footer:a,fares:n,viewType:r,siteEdition:o,themeNameSpace:l,onFareClick:c,showLoadMorePagination:d,filterFares:u,fetchMoreFares:g,searchOriginAirports:m,searchDestinationAirports:h,viewSettings:b,filtersData:f,filterSettings:v,networkStatus:C,showSFM:y,hasFares:T,componentName:O,tagName:S})=>{const N=(0,i.useRef)({staticTitle:t});return y&&(0,p.tZ)("div",{"data-em-sfm-id":e,"data-em-sfm-type":r,children:(0,p.BX)(s.xu,{className:"flex-col my-2",themeNameSpaces:["".concat(l)],children:[N.current.staticTitle&&(0,p.tZ)(s.xv,{as:"h2",themeNameSpaces:["".concat(l,"._title")],dataTest:"title",children:(0,U.rg)(N.current.staticTitle,{replace:{a:(e,t)=>(0,p.tZ)(s.rU,G(G({},e),{},{themeNameSpaces:["".concat(l,"._title._link")],children:t}))}})}),(0,p.tZ)(V.Z,{children:(0,p.tZ)(P,{sfmId:e,componentName:O,tagName:S,filtersData:f,filterSettings:v,filterFares:u,searchOriginAirports:m,searchDestinationAirports:h,themeNameSpace:l})}),(0,p.tZ)(V.Z,{children:(0,p.tZ)(j,{id:e,siteEdition:o,fares:n,viewType:T?r:"NOFARES",themeNameSpace:l,onFareClick:c,showLoadMorePagination:d,fetchMoreFares:g,viewSettings:b,networkStatus:C})}),a&&(0,p.tZ)(s.xv,{className:"",themeNameSpaces:["".concat(l,"._footer")],dataTest:"disclaimer",children:(0,U.rg)(a,{replace:{a:(e,t)=>(0,p.tZ)(s.rU,G(G({},e),{},{themeNameSpaces:["".concat(l,"._footer._link")],children:t}))}})})]})})};z.defaultProps={id:"",title:"",footer:"",onFareClick:()=>{},showLoadMorePagination:!1,fetchMoreFares:()=>{},themeNameSpace:"",filtersData:{airports:[],airportsLoading:!1,originPrepopulationCode:"",destinationPrepopulationCode:""},filterSettings:{showOriginFilter:!0,showDestinationFilter:!0,showBudgetFilter:!1,currencyCode:""},filterFares:()=>{},searchOriginAirports:()=>{},searchDestinationAirports:()=>{},componentName:"",tagName:""};var H,W,K,q,J,Q,X=z,Y=a(50959),ee=a(52209),te=a(35185);const ae=(0,te.Ps)(H||(H=(0,ee.Z)(["\nquery ($page: PageInput!, $id: String!, $pageNumber: Int, $limit: Int, $flatContext: FlatContextInput, $urlParameters: StandardFareModuleUrlParameters, $filters: StandardFareModuleFiltersInput) {\n  standardFareModule(page: $page, id: $id, pageNumber: $pageNumber, limit: $limit, flatContext: $flatContext, urlParameters: $urlParameters, filters: $filters) {\n    id\n    metaData{\n        name\n        title\n        footer\n        viewType\n    }\n    visualizationSettings{\n      includeImages\n      numberOfColumns\n      textAlignment\n      showJourneyType\n      showTravelClass\n      showFareTimestamp\n      showDates\n      carouselVisualizationType\n    }\n    filterSettings{\n      showOriginFilter\n      showDestinationFilter\n      showBudgetFilter\n      showTravelClassFilter\n      showBrandedTravelClassFilter\n      locationAttributesFilters\n      validateOriginsCountryMarket\n      currencyCode\n      restrictOriginFilter\n      restrictDestinationFilter\n      showRedemptionUnitFilter\n    },\n    filterRestrictions{\n      origin{\n        geoId\n        type\n      }\n      destination{\n        geoId\n        type\n      }\n    }\n    prepopulationSettings{\n      originAirportCode\n      destinationAirportCode\n      budgetMaximumAmount\n      travelClass\n      brandedTravelClasses\n      locationAttributes {\n        categoryId\n        tags\n      }\n      redemptionUnit\n    }\n    pagination{\n          currentPage\n          from\n          to\n          lastPage\n          itemsPerPage\n          total\n    }\n    fares(pageNumber:$pageNumber, limit:$limit, urlParameters: $urlParameters){\n      image\n      originCity\n      destinationCity\n      usdTotalPrice\n      currencyCode\n      currencySymbol\n      originAirportCode  \n      destinationAirportCode\n      formattedTravelClass\n      travelClass\n      brandedFareClass\n      farenetTravelClass\n      departureDate\n      formattedDepartureDate\n      returnDate   \n      formattedReturnDate  \n      flightType \n      formattedFlightType\n      priceLastSeen{\n        value,\n        unit\n      } \n      redemption{\n        unit\n        amount\n        taxAmount\n        category\n        formattedTaxAmount\n        formattedAmount\n        shortenedFormattedTaxAmount\n        formattedTaxAmount\n      }\n      formattedTotalPrice\n      totalPrice\n      promoCode\n    },\n    error\n  }\n }\n"]))),ne=(0,te.Ps)(W||(W=(0,ee.Z)(["\nquery($page: PageInput!, $filters: StandardFareModuleAirportsFilterInput!) {\n  standardFareModuleAirports(page:$page, filters:$filters){\n    airports {\n      geoId\n  \t\tvalue\n  \t\tlabel\n    }\n  }\n}\n"]))),ie=(0,te.Ps)(K||(K=(0,ee.Z)(["\nquery ($page: PageInput!) {\n  locationAttributes(page: $page) {\n    id\n    name\n    tags {\n      id\n      name\n    }\n  }\n}\n"]))),re=(0,te.Ps)(q||(q=(0,ee.Z)(["\n  query($page: PageInput!) {\n    organizationDataCollection(page: $page){\n      travelClasses {\n        label\n        value\n      }\n      brandedTravelClasses {\n        label\n        value\n        travelClass\n      }\n      redemptionUnits\n    }\n  }\n"]))),oe=(0,te.Ps)(J||(J=(0,ee.Z)(["\n  query($page: PageInput!) {\n    organizationDisplayDefault(page: $page){\n      searchConfig {\n        caseSensitive\n        includeScore\n        includeMatches\n        shouldSort\n        findAllMatches\n        threshold\n        location\n        distance\n        maxPatternLength\n        minMatchCharLength\n        keys\n        ignoreLocation\n      }\n    }\n  }\n"])));(0,te.Ps)(Q||(Q=(0,ee.Z)(["\n  query($page: PageInput!) {\n    organizationDataCollection(page: $page){\n      travelClasses {\n        label\n        value\n      }\n    }\n  }\n"])));var le=a(79647),se=a(32800),ce=a(46323),de=a(78138),pe=a.n(de);const ue=e=>{const{datasource:t={},geo:a={}}=e||{},n={siteEditionCountryGeoId:(0,U.mR)(a,"language.site_edition_country_geo_id",null),templateId:(0,U.mR)(t,"template_id",null),templateName:(0,U.mR)(t,"step",null),originLocationLevel:(0,U.mR)(a,"location.level_origin",null),originGeoId:(0,U.mR)(a,"location.origin_geo_id",null),destinationLocationLevel:(0,U.mR)(a,"location.level_destination",null),destinationGeoId:(0,U.mR)(a,"location.destination_geo_id",null),OriginAirportName:(0,U.mR)(a,"location.user_input_origin_airport_code",null),OriginCityName:(0,U.mR)(a,"location.user_input_origin_city_name",null),OriginStateName:(0,U.mR)(a,"location.user_input_origin_state_name",null),OriginCountryName:(0,U.mR)(a,"location.user_input_origin_country_name",null),DestinationAirportName:(0,U.mR)(a,"location.user_input_destination_airport_code",null),DestinationCityName:(0,U.mR)(a,"location.user_input_destination_city_name",null),DestinationStateName:(0,U.mR)(a,"location.user_input_destination_state_name",null),DestinationCountryName:(0,U.mR)(a,"location.user_input_destination_country_name",null),fromOriginCityName:(0,U.mR)(a,"location.origin_city_preposition_from",null),fromOriginStateName:(0,U.mR)(a,"location.origin_state_preposition_from",null),fromOriginCountryName:(0,U.mR)(a,"location.origin_country_preposition_from",null),fromDestinationCityName:(0,U.mR)(a,"location.destination_city_preposition_from",null),fromDestinationStateName:(0,U.mR)(a,"location.destination_state_preposition_from",null),fromDestinationCountryName:(0,U.mR)(a,"location.destination_country_preposition_from",null),toOriginCityName:(0,U.mR)(a,"location.origin_city_preposition_to",null),toOriginStateName:(0,U.mR)(a,"location.origin_state_preposition_to",null),toOriginCountryName:(0,U.mR)(a,"location.origin_country_preposition_to",null),toDestinationCityName:(0,U.mR)(a,"location.destination_city_preposition_to",null),toDestinationStateName:(0,U.mR)(a,"location.destination_state_preposition_to",null),toDestinationCountryName:(0,U.mR)(a,"location.destination_country_preposition_to",null)};return(0,U.vQ)(n)},ge=e=>{const{fare:{originAirportCode:t,origin:a,destinationAirportCode:n,destination:i,departureDate:r,returnDate:o,journeyType:l,flightType:s,siteEdition:c,currencyCode:d,travelClass:p,farenetTravelClass:u,promoCode:g,passengers:m=1,blackoutDates:h,promotions:b,accessibilityNeeds:f,redemption:v={}},tagName:C,moduleId:y}=e,{amount:T,category:O,formattedTaxAmount:S,shortenedFormattedTaxAmount:N,taxAmount:w,unit:F}=v||{};return{origin:t||a,destination:n||i,departureDate:pe()(r),returnDate:o&&pe()(o),siteEdition:c,currencyCode:d,journeyType:l||("ROUND_TRIP"===s||"EACH_WAY"===s?"rt":"ow"),travelClass:p,farenetTravelClass:u,promoCode:g,passengers:m,flightType:!s||"ROUND_TRIP"!==s&&"EACH_WAY"!==s?"ow":"rt",travelers:{age1:m},deeplinkSiteEdition:c,useMiles:!!v,blackoutDates:h,promotions:b,accessibilityNeeds:f,tagName:C,moduleId:y,redemption:{amount:T,category:O,formattedTaxAmount:S,shortenedFormattedTaxAmount:N,taxAmount:w,unit:F},redemptionType:F&&F.toLowerCase()}},me=e=>{const{module:t,moduleId:a,tenant:n,languageCode:i,fare:r,tagName:o}=e||{},{currencyCode:l,departureDate:s,returnDate:c,destinationAirportCode:d,formattedTravelClass:p,farenetTravelClass:u,travelClass:g,brandedFareClass:m,flightType:h,originAirportCode:b,totalPrice:f,usdTotalPrice:v,promoCode:C,siteEdition:y,redemption:T}=r||{},{unit:O}=T||{},S=y?y.replace(/[^-]*$/gi,(e=>e.toUpperCase())):"";return{module:t,moduleId:a,configuration:{redemptionType:O||"",fareClass:u||"",brandedFare:m||""},actionLabel:"Book Now",airlineIataCode:n,journeyType:h,origin:b,originAirportIataCode:b,destinationAirportIataCode:d,route:"".concat(b,">").concat(d),currencyCode:l,totalPrice:f,totalPriceUSD:v,fareClass:p||g,departureDate:s,returnDate:c,discountCode:C,page:[{siteEdition:S,languageIsoCode:i}],tagName:o}};var he=a(66499),be=a(63789),fe=a(95573);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ye="price_widget",Te=({page:{tenant:e,slug:t,siteEdition:a,pageType:n,pageNumber:i,deviceType:r,languageCode:o}={}})=>({tenant:e,slug:t,siteEdition:a,pageType:n,pageNumber:i,deviceType:r,languageCode:o}),Oe=e=>{const{params:{id:t}}=e,{actionDispatcher:a,urlParameters:n,geoLocation:s}=(0,i.useContext)(v.Z),{data:c,loading:d,error:u}=(0,o.a)(Y.wn),{data:g,loading:m,error:h}=(0,o.a)(Y.Kr,{skip:!c,variables:{page:c&&{tenant:Te(c).tenant,slug:Te(c).slug,siteEdition:Te(c).siteEdition}}}),{pageContext:b}=g||{},f=(0,be.Ch)(g),C=(0,r.SS)("geolocation"),{data:y,error:T}=(0,o.a)(Y.kS,{skip:!C||(0,U.Qr)(s)||m||!g,variables:Ce({page:c&&{tenant:Te(c).tenant},geo:s},f),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",ssr:!1}),{geoLocation:{nearestOriginAirport:O=""}={}}=y||{},S=y&&b&&(0,be.Ej)(b,O),N=S?(0,he.g)(S,n):(0,he.g)(b,n),w=N&&ue(N),{dynamicContext:{originLocation:F="",destinationLocation:A="",productType:L="",budgetRedemptionUnit:I="",budgetMaximumAmount:P=0}={}}=N||{},_=Ce(Ce(Ce(Ce(Ce({},F&&{origin:F}),A&&{destination:A}),L&&{fareClass:L}),I&&{budgetRedemptionUnit:I}),P&&{budget:P}),{data:D,networkStatus:M,error:B,refetch:E,fetchMore:R}=(0,o.a)(ae,{skip:!c||!g,variables:Ce({page:c&&{tenant:Te(c).tenant,slug:Te(c).slug,siteEdition:Te(c).siteEdition},id:t,pageNumber:1,limit:20,flatContext:w},(0,U.Qr)(_)?{}:{urlParameters:_}),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),{page:{siteEdition:Z,deviceType:k}={}}=c||{},{pageContext:{geo:{language:{site_edition_country_geo_id:x=""}={}}={}}={}}=g||{},{standardFareModule:{metaData:{title:j="",footer:$="",viewType:G="",name:z=""}={},visualizationSettings:{includeImages:H=!0,numberOfColumns:W=1,textAlignment:K="standard",showJourneyType:q=!1,showTravelClass:J=!1,showFareTimestamp:Q=!1,showDates:ee=!1,carouselVisualizationType:te="standard"}={},filterSettings:le={},filterRestrictions:de={},prepopulationSettings:pe={},pagination:{currentPage:ve=1,lastPage:Oe=1,itemsPerPage:Se=10}={},fares:Ne=[],error:we}={}}=D||{},Fe={displayImages:H,numberOfColumns:"desktop"===k?W:1,textAlignment:K,showJourneyType:q,showTravelClass:J,showFareTimestamp:Q,showDates:ee,showLoadMorePagination:ve<Oe,carouselVisualizationType:te},{showOriginFilter:Ae=!1,showDestinationFilter:Le=!1,showBudgetFilter:Ie=!1,showTravelClassFilter:Pe=!1,showBrandedTravelClassFilter:_e=!1,locationAttributesFilters:De=[],validateOriginsCountryMarket:Me=!1,restrictOriginFilter:Be=!1,restrictDestinationFilter:Ee=!1,showRedemptionUnitFilter:Re=!1}=le||{},{origin:Ze={},destination:ke={}}=de||{},xe=De&&De.length>0,je=Ne&&Array.isArray(Ne)&&Ne.length>0,Ue=je||Ae||Le||Ie||Pe||_e||xe||Re,{originAirportCode:Ve="",destinationAirportCode:$e="",budgetMaximumAmount:Ge="",travelClass:ze="",brandedTravelClasses:He=[],locationAttributes:We=[],redemptionUnit:Ke=""}=pe||{},qe=!c||!g||!Ae&&!Le,Je=[...Me&&x?[{name:"countryGeoId",values:[x]}]:[],...Be&&Ze?[{name:null===Ze||void 0===Ze?void 0:Ze.type,values:[null===Ze||void 0===Ze?void 0:Ze.geoId]}]:[]],{data:Qe,networkStatus:Xe,error:Ye,refetch:et}=(0,o.a)(ne,{skip:qe,variables:{page:c&&{tenant:Te(c).tenant,slug:Te(c).slug,siteEdition:Te(c).siteEdition},filters:Ce({language:c&&Te(c).languageCode,getAirportType:"ORIGIN"},Je?{filterFields:Je}:{})},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,ssr:!1}),{standardFareModuleAirports:{airports:tt=[]}={}}=Qe||{},at=[...Ee&&ke?[{name:null===ke||void 0===ke?void 0:ke.type,values:[null===ke||void 0===ke?void 0:ke.geoId]}]:[]],{data:nt,networkStatus:it,error:rt,refetch:ot}=(0,o.a)(ne,{skip:qe,variables:{page:c&&{tenant:Te(c).tenant,slug:Te(c).slug,siteEdition:Te(c).siteEdition},filters:Ce({language:c&&Te(c).languageCode,getAirportType:"DESTINATION"},at?{filterFields:at}:{})},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,ssr:!1}),{data:lt,error:st}=(0,o.a)(re,{skip:!Pe&&!_e&&!Re,variables:{page:c&&{tenant:Te(c).tenant,slug:Te(c).slug,siteEdition:Te(c).siteEdition}},ssr:!1}),{data:ct,error:dt}=(0,o.a)(oe,{skip:qe,variables:{page:c&&{tenant:Te(c).tenant}},ssr:!1}),{standardFareModuleAirports:{airports:pt=[]}={}}=nt||{},{data:ut,networkStatus:gt,error:mt}=(0,o.a)(ie,{skip:!c||!g||!xe,variables:{page:c&&{tenant:Te(c).tenant,language:Te(c).languageCode}},notifyOnNetworkStatusChange:!0}),{locationAttributes:ht=[]}=ut||{},{organizationDisplayDefault:{searchConfig:bt={}}={}}=ct||{},{iataCode:ft}=O,vt={originAirports:tt,originAirportsLoading:"loading"===l.I[Xe],destinationAirports:pt,destinationAirportsLoading:"loading"===l.I[it],locationAttributes:ht,locationAttributesLoading:"loading"===l.I[gt],originPrepopulationCode:F||ft||Ve,destinationPrepopulationCode:A||$e,budgetPrepopulationValue:P||Ge,travelClassPrepopulationValue:ze,brandedTravelClassesPrepopulationValues:He,redemptionUnitPrepopulationValue:Ke&&Ke.toUpperCase&&Ke.toUpperCase(),locationAttributesPrepopulation:We,budgetRedemptionUnit:I,travelClassesData:lt,searchConfig:bt};if(d||m||!Ue)return null;if(we||u||h||B||Ye||rt||st||dt||mt||T||!c||!D){const e=!we&&!u&&!h&&!B&&!Ye&&!rt&&!st&&!mt&&!T&&!D,a={page:{error:u,hasData:!!c},context:{error:h},standardFareModule:{error:B,hasData:!!D},SFMOriginAirports:{error:Ye},SFMDestinationAirports:{error:rt},travelClasses:{error:st},SFMLocationAttributes:{error:mt},errorFromBE:{error:we},nearestOriginAirport:{error:T,hasData:!!y}};return(0,fe.Z)("Standard Fare Module",a,{id:t,isMissingData:e}),null}return Ue&&(0,p.tZ)(se.Z,{trackingData:{module:ye,tagName:z,widgetId:t},children:(0,p.tZ)(ce.Z,{children:(0,p.tZ)(V.Z,{children:(0,p.tZ)(X,{id:t,title:j,footer:$,fares:Ne,viewType:G,siteEdition:Z,themeNameSpace:"_standardFareModule",onFareClick:e=>{const n=e.original;a.dispatch({type:"OPEN_POPUP",payload:ge({fare:n,tagName:z,moduleId:t})}),a.dispatch({type:"TRACKING_OPEN_POPUP",payload:me({moduleId:t,module:ye,tenant:Te(c).tenant,languageCode:Te(c).languageCode,fare:n,tagName:z})})},filterFares:e=>E({filters:Ce({},e),urlParameters:{}}),fetchMoreFares:()=>ve<Oe&&R({variables:{pageNumber:ve+1,limit:Se}}),searchOriginAirports:({selectedAirportCode:e=null})=>et({filters:Ce({language:Te(c).languageCode,getAirportType:"ORIGIN",selectedAirportCode:e},Je?{filterFields:Je}:{})}),searchDestinationAirports:({selectedAirportCode:e=null})=>ot({filters:Ce({language:Te(c).languageCode,getAirportType:"DESTINATION",selectedAirportCode:e},at?{filterFields:at}:{})}),viewSettings:Fe,filtersData:vt,filterSettings:le,networkStatus:l.I[M],showSFM:Ue,hasFares:je,componentName:ye,tagName:z})})})})};var Se=e=>{const{lazy:t}=e;return(0,p.tZ)("div",{"data-em-cmp":ye,children:(0,p.tZ)(le.Z,{apply:t,children:(0,p.tZ)(Oe,Ce({},e))})})};Oe.defaultProps={params:{id:""}}}}]);